<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Parallel on Xiao-Le Deng (é‚“å°ä¹)</title>
    <link>https://xiaoledeng.github.io/tags/parallel/</link>
    <description>Recent content in Parallel on Xiao-Le Deng (é‚“å°ä¹)</description>
    <generator>Hugo</generator>
    <language>en</language>
    <copyright>2012 â€“ 2026 Â© [Xiao-Le Deng](https://xiaoledeng.github.io) Â· Powered by [Simple Style](https://github.com/xiaoledeng/simple-style)</copyright>
    <lastBuildDate>Fri, 06 Dec 2024 10:57:28 +0100</lastBuildDate>
    <atom:link href="https://xiaoledeng.github.io/tags/parallel/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Pythonä½¿ç”¨Numbaå¹¶è¡Œæµ‹è¯•</title>
      <link>https://xiaoledeng.github.io/2024/12/06/python-numba-parallel/</link>
      <pubDate>Fri, 06 Dec 2024 10:57:28 +0100</pubDate>
      <guid>https://xiaoledeng.github.io/2024/12/06/python-numba-parallel/</guid>
      <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#0cf;font-weight:bold&#34;&gt;numba&lt;/span&gt; &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;import&lt;/span&gt; njit, prange&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#0cf;font-weight:bold&#34;&gt;numpy&lt;/span&gt; &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#0cf;font-weight:bold&#34;&gt;np&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#0cf;font-weight:bold&#34;&gt;time&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# çº¯ Python å®ç°&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#c0f&#34;&gt;python_matrix_mult&lt;/span&gt;(A, B):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rows, cols &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; A&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#f60&#34;&gt;0&lt;/span&gt;], B&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    result &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; [[&lt;span style=&#34;color:#f60&#34;&gt;0&lt;/span&gt;] &lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt; cols &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; _ &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;range&lt;/span&gt;(rows)]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;range&lt;/span&gt;(rows):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; j &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;range&lt;/span&gt;(cols):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; k &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;range&lt;/span&gt;(A&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;]):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                result[i][j] &lt;span style=&#34;color:#555&#34;&gt;+=&lt;/span&gt; A[i][k] &lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt; B[k][j]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;return&lt;/span&gt; result&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# Numba å¹¶è¡Œå®ç°&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#99f&#34;&gt;@njit&lt;/span&gt;(parallel&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;True&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#c0f&#34;&gt;numba_matrix_mult&lt;/span&gt;(A, B):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rows, cols &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; A&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#f60&#34;&gt;0&lt;/span&gt;], B&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    result &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;zeros((rows, cols))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; prange(rows):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; j &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;range&lt;/span&gt;(cols):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; k &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#366&#34;&gt;range&lt;/span&gt;(A&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;]):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                result[i, j] &lt;span style=&#34;color:#555&#34;&gt;+=&lt;/span&gt; A[i, k] &lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt; B[k, j]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;return&lt;/span&gt; result&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# æµ‹è¯•æ€§èƒ½&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;size &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f60&#34;&gt;1000&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;A &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;random&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;rand(size, size)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;B &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;random&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;rand(size, size)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# æµ‹è¯•çº¯ Python&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result_python &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; python_matrix_mult(A, B)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;çº¯ Python è€—æ—¶:&amp;#34;&lt;/span&gt;, time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time() &lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt; start, &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;ç§’&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# æµ‹è¯• NumPy&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result_numpy &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;dot(A, B)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;NumPy è€—æ—¶:&amp;#34;&lt;/span&gt;, time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time() &lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt; start, &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;ç§’&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# æµ‹è¯• Numba å¹¶è¡Œ&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result_numba_parallel &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; numba_matrix_mult(A, B)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;Numba å¹¶è¡Œè€—æ—¶:&amp;#34;&lt;/span&gt;, time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time() &lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt; start, &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;ç§’&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>macOSä¸‹Condaæ›´æ–°PyTorchï¼ˆGPU ç‰ˆæœ¬ï¼‰</title>
      <link>https://xiaoledeng.github.io/2024/12/02/macos-conda-update-pytorch/</link>
      <pubDate>Mon, 02 Dec 2024 14:37:17 +0100</pubDate>
      <guid>https://xiaoledeng.github.io/2024/12/02/macos-conda-update-pytorch/</guid>
      <description>&lt;p&gt;æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python -c &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;import torch; print(torch.__version__)&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2.3.0.dev20231221&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ›´æ–°å‘½ä»¤ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;conda install pytorch torchvision torchaudio -c pytorch&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ˜¾ç¤ºï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Retrieving notices: ...working... &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;done&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Collecting package metadata &lt;span style=&#34;color:#555&#34;&gt;(&lt;/span&gt;current_repodata.json&lt;span style=&#34;color:#555&#34;&gt;)&lt;/span&gt;: &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;done&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Solving environment: &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;done&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#555&#34;&gt;==&lt;/span&gt;&amp;gt; WARNING: A newer version of conda exists. &amp;lt;&lt;span style=&#34;color:#555&#34;&gt;==&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  current version: 23.1.0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  latest version: 24.11.0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Please update conda by running&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    $ conda update -n base -c defaults conda&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Or to minimize the number of packages updated during conda update use&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     conda install &lt;span style=&#34;color:#033&#34;&gt;conda&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;24.11.0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;## Package Plan ##&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  environment location: /Users/deng/anaconda3&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  added / updated specs:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - pytorch&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - torchaudio&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - torchvision&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;The following packages will be downloaded:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    package                    |            build&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ---------------------------|-----------------&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    pytorch-2.5.1              |          py3.9_0        56.0 MB  pytorch&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    torchaudio-2.5.1           |         py39_cpu         4.8 MB  pytorch&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    torchvision-0.20.1         |         py39_cpu         6.6 MB  pytorch&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ------------------------------------------------------------&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                           Total:        67.3 MB&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;The following packages will be UPDATED:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  pytorch            pytorch-nightly::pytorch-2.3.0.dev202~ --&amp;gt; pytorch::pytorch-2.5.1-py3.9_0 &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  torchaudio         pytorch-nightly::torchaudio-2.2.0.dev~ --&amp;gt; pytorch::torchaudio-2.5.1-py39_cpu &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  torchvision        pytorch-nightly::torchvision-0.18.0.d~ --&amp;gt; pytorch::torchvision-0.20.1-py39_cpu &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Proceed &lt;span style=&#34;color:#555&#34;&gt;([&lt;/span&gt;y&lt;span style=&#34;color:#555&#34;&gt;]&lt;/span&gt;/n&lt;span style=&#34;color:#555&#34;&gt;)&lt;/span&gt;? y&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Downloading and Extracting Packages&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                                                                                                          &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Preparing transaction: &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;done&lt;/span&gt;                                                                                               &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Verifying transaction: &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;done&lt;/span&gt;                                                                                               &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Executing transaction: &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;done&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†æ¬¡æŸ¥çœ‹ç‰ˆæœ¬ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Intel Fortranç¼–è¯‘å·¥å…·ifortå’Œifx</title>
      <link>https://xiaoledeng.github.io/2024/11/30/intel-fortran-ifort-ifx/</link>
      <pubDate>Sat, 30 Nov 2024 08:30:00 +0100</pubDate>
      <guid>https://xiaoledeng.github.io/2024/11/30/intel-fortran-ifort-ifx/</guid>
      <description>&lt;p&gt;æ³¨æ„âš ï¸ï¼š&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;IntelÂ® Fortran Compiler Classic (ifort) is discontinued as of this release (version 2025.0).&lt;sup&gt;1&lt;/sup&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h1 id=&#34;1-ç®€ä»‹&#34;&gt;1. ç®€ä»‹&lt;/h1&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;IntelÂ® Fortran Compiler Classic (IFORT)ï¼šä¼ ç»Ÿçš„ Fortran ç¼–è¯‘å™¨ï¼Œæ”¯æŒç»å…¸çš„ Fortran æ ‡å‡†ï¼ˆå¦‚ Fortran 77ã€90ã€95ã€2003ã€2008ï¼‰&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;IntelÂ® Fortran Compiler (IFX)ï¼šæ–°ä¸€ä»£åŸºäº LLVM æ¡†æ¶çš„ Fortran ç¼–è¯‘å™¨ï¼Œæ”¯æŒæœ€æ–°çš„ Fortran æ ‡å‡†ï¼ˆå¦‚ Fortran 2018 å’Œæœªæ¥ç‰ˆæœ¬ï¼‰&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;IntelÂ® oneAPI å·¥å…·åŒ…åŒ…æ‹¬äº†&lt;code&gt;IFORT&lt;/code&gt;å’Œ&lt;code&gt;IFX&lt;/code&gt;ã€‚&lt;/p&gt;&#xA;&lt;h1 id=&#34;2-ifort-é€‰é¡¹&#34;&gt;2. ifort é€‰é¡¹&lt;/h1&gt;&#xA;&lt;p&gt;&lt;code&gt;ifort&lt;/code&gt; æˆç†Ÿï¼šé€‚åˆéœ€è¦å®Œå…¨å…¼å®¹ç°æœ‰ Fortran ä»£ç çš„åœºæ™¯ã€‚&lt;/p&gt;&#xA;&lt;p&gt;åŸºç¡€é€‰é¡¹ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-c&lt;/code&gt;&lt;/strong&gt;ï¼šåªè¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶ï¼ˆ.oï¼‰ï¼Œä¸è¿›è¡Œé“¾æ¥&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-o &amp;lt;filename&amp;gt;&lt;/code&gt;&lt;/strong&gt;ï¼šæŒ‡å®šç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶åç§°&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-I&amp;lt;directory&amp;gt;&lt;/code&gt;&lt;/strong&gt;ï¼šæŒ‡å®šæ¨¡å—æ–‡ä»¶ï¼ˆ.mod æ–‡ä»¶ï¼‰æˆ–å¤´æ–‡ä»¶çš„æœç´¢è·¯å¾„&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-L&amp;lt;directory&amp;gt;&lt;/code&gt; å’Œ &lt;code&gt;-l&amp;lt;library&amp;gt;&lt;/code&gt;&lt;/strong&gt;ï¼šæŒ‡å®šåº“çš„æœç´¢è·¯å¾„å’Œé“¾æ¥åº“&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-static&lt;/code&gt;&lt;/strong&gt;ï¼šç”Ÿæˆé™æ€é“¾æ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé¿å…ä¾èµ–åŠ¨æ€åº“&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ä¼˜åŒ–é€‰é¡¹ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-O0&lt;/code&gt;&lt;/strong&gt;ï¼šå…³é—­ä¼˜åŒ–ï¼ˆé»˜è®¤è®¾ç½®ï¼Œé€‚åˆè°ƒè¯•ï¼‰&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-O1&lt;/code&gt;&lt;/strong&gt;ï¼šåŸºç¡€ä¼˜åŒ–ï¼Œé€‚åˆå¯¹ç¼–è¯‘æ—¶é—´æ•æ„Ÿæˆ–æœ‰å¤§é‡åˆ†æ”¯çš„ä»£ç &lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-O2&lt;/code&gt;&lt;/strong&gt;ï¼šé€šç”¨ä¼˜åŒ–ï¼ˆæ¨èï¼‰ï¼Œä¼˜åŒ–å¾ªç¯ã€ä¸å˜ä»£ç å¤–æã€æŒ‡ä»¤è°ƒåº¦ç­‰&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-O3&lt;/code&gt;&lt;/strong&gt;ï¼šé«˜ç­‰çº§ä¼˜åŒ–ï¼Œé€‚åˆéœ€è¦æœ€å¤§åŒ–æ€§èƒ½çš„ç¨‹åºï¼ŒåŒ…æ‹¬è®¡ç®—å¯†é›†å‹ç¨‹åºã€çŸ¢é‡åŒ–å’Œå†…å­˜è®¿é—®ä¼˜åŒ–&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-xHost&lt;/code&gt;&lt;/strong&gt;ï¼šç”Ÿæˆä¸“ä¸ºè¿è¡Œå¹³å°ä¼˜åŒ–çš„ä»£ç ï¼Œé’ˆå¯¹æœ¬åœ° CPU çš„ç‰¹å®šæ¶æ„ä¼˜åŒ–&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-ipo&lt;/code&gt;&lt;/strong&gt;ï¼šå¯ç”¨è·¨æ–‡ä»¶ä¼˜åŒ–ï¼ˆInterprocedural Optimizationï¼‰ï¼Œè¿›ä¸€æ­¥æå‡æ€§èƒ½&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-fast&lt;/code&gt;&lt;/strong&gt;ï¼šå¯ç”¨å¤šé¡¹æ€§èƒ½ä¼˜åŒ–é€‰é¡¹ï¼ˆ&lt;code&gt;-O3&lt;/code&gt;ã€&lt;code&gt;-ipo&lt;/code&gt;ã€&lt;code&gt;-xHost&lt;/code&gt; ç­‰ï¼‰&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;å¹¶è¡ŒåŒ–å’ŒçŸ¢é‡åŒ–é€‰é¡¹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Mathematicaä½¿ç”¨ParallelTableé—®é¢˜</title>
      <link>https://xiaoledeng.github.io/2024/11/20/mathematica-paralleltable/</link>
      <pubDate>Wed, 20 Nov 2024 15:03:14 +0100</pubDate>
      <guid>https://xiaoledeng.github.io/2024/11/20/mathematica-paralleltable/</guid>
      <description>&lt;p&gt;Mathematica ä½¿ç”¨ ParallelTable æˆ–ç±»ä¼¼çš„å¹¶è¡Œè®¡ç®—å‡½æ•°æ—¶ï¼Œå¦‚æœä»£ç è¿è¡ŒæŠ¥é”™ï¼ˆä¾‹å¦‚ Part 2 of &amp;hellip; does not existï¼‰ï¼Œè¿™é€šå¸¸è¡¨æ˜æŸäº›æ•°æ®ç»“æ„åœ¨å¹¶è¡Œç¯å¢ƒä¸­æ— æ³•æ­£ç¡®ä¼ é€’æˆ–åˆå§‹åŒ–ï¼Œæˆ–è€…å‚æ•°è®¾ç½®ä¸æ­£ç¡®ã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Mathematica&#34; data-lang=&#34;Mathematica&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;(* åŠ è½½å¿…è¦çš„åŒ… *)&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;Needs[&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;NumericalDifferentialEquationAnalysis`&amp;#34;&lt;/span&gt;];&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;(* åˆ†å‘ä¸Šä¸‹æ–‡å’Œå˜é‡åˆ°å¹¶è¡Œå†…æ ¸ *)&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;ParallelEvaluate[Needs[&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;NumericalDifferentialEquationAnalysis`&amp;#34;&lt;/span&gt;]];&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;DistributeDefinitions[Transpose];&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>macOSä¸‹Pythonçš„GPU/CPUå¯¹æ¯”æµ‹è¯•</title>
      <link>https://xiaoledeng.github.io/2024/01/22/macos-python-gpu-vs-cpu/</link>
      <pubDate>Mon, 22 Jan 2024 09:29:22 +0100</pubDate>
      <guid>https://xiaoledeng.github.io/2024/01/22/macos-python-gpu-vs-cpu/</guid>
      <description>&lt;p&gt;M èŠ¯ç‰‡çš„ macOS ä¸‹ PyTorch åˆ©ç”¨ GPU åŠ é€Ÿçš„æ˜¯ï¼š&lt;code&gt;mps&lt;/code&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Pythonä»£ç ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Python&#34; data-lang=&#34;Python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#0cf;font-weight:bold&#34;&gt;torch&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#0cf;font-weight:bold&#34;&gt;time&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# æ£€æŸ¥æ˜¯å¦æ”¯æŒ GPU&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;if&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;backends&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;mps&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;is_available():&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    device &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;device(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;mps&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt; (&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;MPS device is found.&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;device &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;device(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;mps&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;if&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;backends&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;mps&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;is_available() &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;cpu&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# ç”Ÿæˆå¤§å‹éšæœºçŸ©é˜µ&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;size &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f60&#34;&gt;4000&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a_cpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;randn(size, size)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;b_cpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;randn(size, size)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# CPU ä¸Šçš„çŸ©é˜µç›¸ä¹˜&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start_time_cpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result_cpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;mm(a_cpu, b_cpu)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cpu_time &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time() &lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt; start_time_cpu&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# å°†çŸ©é˜µç§»åŠ¨åˆ° GPU&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a_gpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; a_cpu&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;to(device)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;b_gpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; b_cpu&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;to(device)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# GPU ä¸Šçš„çŸ©é˜µç›¸ä¹˜&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;start_time_gpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time()&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result_gpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;mm(a_gpu, b_gpu)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gpu_time &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;time() &lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt; start_time_gpu&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# å°† GPU è®¡ç®—ç»“æœç§»å› CPU&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;result_gpu_cpu &lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; result_gpu&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;to(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;cpu&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# æ‰“å°è®¡ç®—æ—¶é—´&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;CPU è®¡ç®—æ—¶é—´: &lt;/span&gt;&lt;span style=&#34;color:#a00&#34;&gt;{:.6f}&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt; ç§’&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;format(cpu_time))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;GPU è®¡ç®—æ—¶é—´: &lt;/span&gt;&lt;span style=&#34;color:#a00&#34;&gt;{:.6f}&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt; ç§’&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;format(gpu_time))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;# éªŒè¯ CPU å’Œ GPU è®¡ç®—ç»“æœæ˜¯å¦ä¸€è‡´&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#366&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;ç»“æœä¸€è‡´æ€§:&amp;#34;&lt;/span&gt;, torch&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;allclose(result_cpu, result_gpu_cpu))&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ˜¾ç¤ºç»“æœï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>macOSåˆ©ç”¨GPUåŠ é€ŸWhisperè¯­éŸ³è½¬æ–‡å­—</title>
      <link>https://xiaoledeng.github.io/2023/12/21/macos-gpu-speed-whisper/</link>
      <pubDate>Thu, 21 Dec 2023 16:08:53 +0100</pubDate>
      <guid>https://xiaoledeng.github.io/2023/12/21/macos-gpu-speed-whisper/</guid>
      <description>&lt;h1 id=&#34;1-å‰è¨€&#34;&gt;1. å‰è¨€&lt;/h1&gt;&#xA;&lt;p&gt;å‰å‡ å¤©ï¼Œå†™äº† &lt;a href=&#34;https://xiaoledeng.github.io/2023/12/19/whisper-transform-audio-to-text/&#34;&gt;å¼€æºWhisperè¯­éŸ³è½¬æ–‡å­—&lt;/a&gt; çš„å†…å®¹ï¼Œä½†æ˜¯åœ¨ macOS ä¸Šä½¿ç”¨ whisper é»˜è®¤çš„ &lt;code&gt;--device mps&lt;/code&gt; å‘½ä»¤è¿›è¡Œ GPU åŠ é€Ÿï¼Œä¼šæŠ¥é”™ã€‚è€Œå•çº¯ç”¨ CPU è·‘ whisperï¼Œè€—æ—¶æ¯”è¾ƒé•¿ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æœç´¢ğŸ”ç›¸å…³ä¸»é¢˜åï¼Œå‘ç°ï¼šç›®å‰ GitHub çš„ whisper é¡¹ç›® &lt;sup&gt;1&lt;/sup&gt;åœ¨ macOS ä¸Šå®‰è£…åï¼Œæš‚æ—¶è¿˜ä¸èƒ½ä½¿ç”¨ GPU åŠ é€Ÿã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä¸è¿‡ï¼Œå¯ä»¥åŸºäº C/C++ è¯­è¨€çš„ whisper.cpp &lt;sup&gt;2&lt;/sup&gt;ï¼Œåœ¨ macOS ä¸Šå®ç°ç”¨ GPU åŠ é€Ÿ Whisper è¯­éŸ³è½¬æ–‡å­—ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ç»“æœè¡¨æ˜ï¼šåœ¨ macOS ä¸Šç”¨ whisper.cpp å®ç° GPU åŠ é€Ÿ Whisper è¯­éŸ³è½¬æ–‡å­—çš„é€Ÿåº¦æå‡éå¸¸æ˜æ˜¾ã€‚&lt;/p&gt;&#xA;&lt;h1 id=&#34;2-å…·ä½“è¿‡ç¨‹&#34;&gt;2. å…·ä½“è¿‡ç¨‹&lt;/h1&gt;&#xA;&lt;h2 id=&#34;21-ä¸‹è½½è¯­è¨€åŒ…&#34;&gt;2.1 ä¸‹è½½è¯­è¨€åŒ…&lt;/h2&gt;&#xA;&lt;p&gt;å»ºè®®åˆ©ç”¨å®˜ç½‘å‘½ä»¤ä¸‹è½½ï¼Œç»ˆç«¯è¾“å…¥ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;whisper 20231218.wav --language Chinese --model large&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;large è¯­è¨€åŒ…çš„è·¯å¾„ä¸ºï¼š&lt;code&gt;~/.cache/whisper/large-v3.pt&lt;/code&gt;ï¼Œæ–‡ä»¶æ ¼å¼ä¸º pt ï¼Œå¤§å°çº¦ 2.9 Gã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;22-è½¬æ¢-pt-æ–‡ä»¶ä¸º-bin-æ–‡ä»¶&#34;&gt;2.2 è½¬æ¢ pt æ–‡ä»¶ä¸º bin æ–‡ä»¶&lt;/h2&gt;&#xA;&lt;p&gt;ä¸‹è½½å¹¶è§£å‹ä¸¤ä¸ª GitHub çš„å…¨æ–‡ä»¶å¤¹â€”â€” whisper &lt;sup&gt;1&lt;/sup&gt; å’Œ whisper.cpp &lt;sup&gt;2&lt;/sup&gt;ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Parallel computation of Do loop using Openmpi in Fortran</title>
      <link>https://xiaoledeng.github.io/2022/01/23/parallel-do-openmpi-fortran/</link>
      <pubDate>Sun, 23 Jan 2022 09:30:00 +0800</pubDate>
      <guid>https://xiaoledeng.github.io/2022/01/23/parallel-do-openmpi-fortran/</guid>
      <description>&lt;h1 id=&#34;1-key-command&#34;&gt;1. Key command&lt;/h1&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fortran&#34; data-lang=&#34;fortran&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;use&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;omp_lib&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP PARALLEL &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP DO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP END DO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP END PARALLEL &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;or&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fortran&#34; data-lang=&#34;fortran&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;use&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;omp_lib&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP PARALLEL DO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP END PARALLEL DO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;2-file&#34;&gt;2. File&lt;/h1&gt;&#xA;&lt;p&gt;The content of the file &lt;code&gt;test.f90&lt;/code&gt; is:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fortran&#34; data-lang=&#34;fortran&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;program&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;main&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;use&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;omp_lib&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;implicit&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;integer&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(i&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;n)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;implicit&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;real&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(a&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;h,o&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;z)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;real&lt;/span&gt;(&lt;span style=&#34;color:#f60&#34;&gt;8&lt;/span&gt;),&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;allocatable&lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;number(:,:)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;inumber&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;jnumber&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;allocate&lt;/span&gt;(number(inumber,jnumber))&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;write&lt;/span&gt;(&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;,&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;parallel do&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#366&#34;&gt;cpu_time&lt;/span&gt;(time_begin1)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP PARALLEL DO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;do&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;i&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;,inumber&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;do&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;j&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;,jnumber&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;number(i,j)&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;i&lt;span style=&#34;color:#555&#34;&gt;+&lt;/span&gt;j&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;write&lt;/span&gt;(&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;,&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;i,j,number(i,j),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;OMP_get_thread_num()&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;enddo&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;enddo&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!$OMP END PARALLEL DO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#366&#34;&gt;cpu_time&lt;/span&gt;(time_end1)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;write&lt;/span&gt;(&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;,&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;The time cost is&amp;#34;&lt;/span&gt;,time_end1&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;time_begin1&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;do&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;i&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;,inumber&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;do&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;j&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;1&lt;/span&gt;,jnumber&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;write&lt;/span&gt;(&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;,&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;i,j,number(i,j)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;enddo&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;enddo&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;deallocate&lt;/span&gt;(number)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;program&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;main&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The content of the file &lt;code&gt;job.sh&lt;/code&gt; is:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ubuntuå®‰è£…CUDAä»¥GPUè¿è¡ŒFortran</title>
      <link>https://xiaoledeng.github.io/2021/07/19/ubuntu-cuda-fortran/</link>
      <pubDate>Mon, 19 Jul 2021 11:00:00 +0800</pubDate>
      <guid>https://xiaoledeng.github.io/2021/07/19/ubuntu-cuda-fortran/</guid>
      <description>&lt;h1 id=&#34;1-æ£€æŸ¥&#34;&gt;1. æ£€æŸ¥&lt;/h1&gt;&#xA;&lt;p&gt;éªŒè¯æ˜¯å¦å…·æœ‰æ”¯æŒCUDAçš„GPUï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ lspci | grep -i nvidia&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;01:00.0 VGA compatible controller: NVIDIA Corporation GP107GL &lt;span style=&#34;color:#555&#34;&gt;[&lt;/span&gt;Quadro P620&lt;span style=&#34;color:#555&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#555&#34;&gt;(&lt;/span&gt;rev a1&lt;span style=&#34;color:#555&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;01:00.1 Audio device: NVIDIA Corporation GP107GL High Definition Audio Controller &lt;span style=&#34;color:#555&#34;&gt;(&lt;/span&gt;rev a1&lt;span style=&#34;color:#555&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éªŒè¯æ˜¯å¦å…·æœ‰å—æ”¯æŒçš„Linuxç‰ˆæœ¬ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ uname -m &lt;span style=&#34;color:#555&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cat /etc/*release&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x86_64&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;DISTRIB_ID&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;Ubuntu&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;DISTRIB_RELEASE&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;20.04&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;DISTRIB_CODENAME&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;focal&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;DISTRIB_DESCRIPTION&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;Ubuntu 20.04.2 LTS&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;NAME&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;Ubuntu&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;VERSION&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;20.04.2 LTS (Focal Fossa)&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;ID&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;ubuntu&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;ID_LIKE&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;debian&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;PRETTY_NAME&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;Ubuntu 20.04.2 LTS&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;VERSION_ID&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;20.04&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;HOME_URL&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;https://www.ubuntu.com/&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;SUPPORT_URL&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;https://help.ubuntu.com/&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;BUG_REPORT_URL&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;https://bugs.launchpad.net/ubuntu/&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;PRIVACY_POLICY_URL&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;VERSION_CODENAME&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;focal&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#033&#34;&gt;UBUNTU_CODENAME&lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt;focal&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éªŒè¯ç³»ç»Ÿæ˜¯å¦å·²å®‰è£…gccï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ gcc --version&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcc &lt;span style=&#34;color:#555&#34;&gt;(&lt;/span&gt;Ubuntu 9.3.0-17ubuntu1~20.04&lt;span style=&#34;color:#555&#34;&gt;)&lt;/span&gt; 9.3.0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Copyright &lt;span style=&#34;color:#555&#34;&gt;(&lt;/span&gt;C&lt;span style=&#34;color:#555&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f60&#34;&gt;2019&lt;/span&gt; Free Software Foundation, Inc.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;This is free software; see the &lt;span style=&#34;color:#366&#34;&gt;source&lt;/span&gt; &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; copying conditions.  There is NO&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;warranty; not even &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;for&lt;/span&gt; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éªŒè¯ç³»ç»Ÿæ˜¯å¦å®‰è£…äº†æ­£ç¡®çš„å†…æ ¸å¤´æ–‡ä»¶å’Œå¼€å‘åŒ…ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ã€Fortranå¹¶è¡Œç§‘å­¦è®¡ç®—ã€‘Hello-Worldç¨‹åº</title>
      <link>https://xiaoledeng.github.io/2016/11/25/fortran-hello-world/</link>
      <pubDate>Fri, 25 Nov 2016 10:00:00 +0800</pubDate>
      <guid>https://xiaoledeng.github.io/2016/11/25/fortran-hello-world/</guid>
      <description>&lt;p&gt;MPIï¼ˆmessage passing interfaceï¼‰ï¼Œæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä¼ é€’æ¥å£ã€‚MPIçš„å‡½æ•°æ€»å…±æœ‰287ä¸ªã€‚&lt;/p&gt;&#xA;&lt;p&gt;æƒ³å®ç°ä¸€ä¸ªMPIå¹¶è¡Œè®¡ç®—çš„ç¨‹åºçš„è¯ï¼Œåªè¦æŒæ¡MPIçš„å·¥ä½œæœºç†å’Œ6ä¸ªç®€å•çš„MPIå‡½æ•°ä¾¿å¯ä»¥äº†ï¼Œæœ¬æ–‡ä»‹ç»4ä¸ªç®€å•MPIå‡½æ•°ï¼šMPI_INITã€MPI_COMM_RANKã€MPI_COMM_SIZEå’ŒMPI_FINALIZEã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ³¨æ„ï¼šä»¥ä¸‹è°ƒç”¨æ ¼å¼ä¸ºFortranæ ¼å¼ï¼Œå¤§éƒ¨åˆ†æ•™ç¨‹éƒ½æ˜¯Cè¯­è¨€çš„MPIä»‹ç»ï¼Œè¿™é‡Œä»¥åŠä»¥åçš„æ–‡ç« éƒ½æ˜¯ä»¥Fortranä¸ºåŸºç¡€ï¼Œå°¤å…¶è¦æ³¨æ„Fortranä¸åˆ†å¤§å°å†™ã€‚&lt;/p&gt;&#xA;&lt;h1 id=&#34;ä¸€hello-worldç¨‹åº&#34;&gt;ä¸€ã€Hello Worldç¨‹åº&lt;/h1&gt;&#xA;&lt;p&gt;å…ˆç»™å‡ºä¸€ä¸ªæœ€ç®€å•çš„Hello_worldçš„Fortran + MPIçš„ç¨‹åºï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ¥åˆ†æMPIçš„4ä¸ªæœ€ç®€å•çš„å‡½æ•°â€”â€”MPI_INITã€MPI_COMM_RANKã€MPI_COMM_SIZEå’ŒMPI_FINALIZEã€‚&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Fortran&#34; data-lang=&#34;Fortran&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#x9;&lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;program&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;hello_world&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;use&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mpi&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;!include &amp;#39;mpif.h&amp;#39;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;integer&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ierr,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;num_procs,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;my_id&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;MPI_INIT&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ierr&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;! find out my process ID, and how many processes were started.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;MPI_COMM_RANK&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(MPI_COMM_WORLD,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;my_id,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ierr)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;MPI_COMM_SIZE&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(MPI_COMM_WORLD,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;num_procs,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ierr)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;print&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#555&#34;&gt;*&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;Hello world! I&amp;#39;m process &amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;my_id,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34; out of &amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;num_procs,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34; processes.&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;MPI_FINALIZE&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ierr&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;stop&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&#x9;&lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;end&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;program&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;hello_world&lt;span style=&#34;color:#bbb&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;1mpiåˆå§‹åŒ–å‡½æ•°&#34;&gt;1.MPIåˆå§‹åŒ–å‡½æ•°&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code&gt;call MPI_INIT (ierr)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;MPI_Initç”¨æ¥åˆå§‹åŒ–MPIæ‰§è¡Œç¯å¢ƒï¼Œå»ºç«‹å¤šä¸ªMPIè¿›ç¨‹ä¹‹é—´çš„è”ç³»ï¼Œä¸ºåç»­é€šä¿¡åšå‡†å¤‡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ã€Fortranå¹¶è¡Œç§‘å­¦è®¡ç®—ã€‘quad_mpi-f90ç¨‹åº</title>
      <link>https://xiaoledeng.github.io/2016/11/24/quad-mpi-f90/</link>
      <pubDate>Thu, 24 Nov 2016 10:00:00 +0800</pubDate>
      <guid>https://xiaoledeng.github.io/2016/11/24/quad-mpi-f90/</guid>
      <description>&lt;p&gt;æ³¨æ„ï¼šæœ¬ç¨‹åºæ¥æºäºâ€”â€”http://people.sc.fsu.edu/~jburkardt/f_src/quad_mpi/quad_mpi.html ï¼Œå¯ä»¥åœ¨æ­¤ç½‘ç«™ä¸‹è½½æºä»£ç ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æœ¬æ–‡æ˜¯å…ˆè¿è¡Œç¼–è¯‘æ­¤ä»£ç ï¼Œç„¶ååˆ†ææºä»£ç ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æŒ‰ç…§ &lt;a href=&#34;https://xiaoledeng.github.io/2016/11/25/fortran-hello-world/&#34;&gt;ã€Fortranå¹¶è¡Œç§‘å­¦è®¡ç®—ã€‘Hello-Worldç¨‹åº&lt;/a&gt; çš„æ­¥éª¤ï¼Œä¸Šä¼ ç¼–è¯‘è¿è¡Œä¹‹åçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://xiaoledeng.github.io/figures/20161124/Fortran.png&#34; alt=&#34;ç¼–è¯‘ç»“æœå›¾&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>ã€Fortranå¹¶è¡Œç§‘å­¦è®¡ç®—ã€‘Fortran&#43;mpiç¯å¢ƒæ­å»º</title>
      <link>https://xiaoledeng.github.io/2016/11/24/set-fortran-mpi/</link>
      <pubDate>Thu, 24 Nov 2016 09:00:00 +0800</pubDate>
      <guid>https://xiaoledeng.github.io/2016/11/24/set-fortran-mpi/</guid>
      <description>&lt;p&gt;é¦–å…ˆï¼Œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨â€”â€”æ­å»ºFortrançš„MPIå¹¶è¡Œçš„ç¯å¢ƒã€‚&lt;/p&gt;&#xA;&lt;p&gt;å› ä¸ºæ˜¯ä½¿ç”¨çš„æ˜¯å­¦æ ¡æœåŠ¡å™¨â€”â€”&lt;a href=&#34;http://hpc.whu.edu.cn/mpiguide/&#34;&gt;MPIä½¿ç”¨æŒ‡å— | æ­¦æ±‰å¤§å­¦è¶…ç®—ä¸­å¿ƒ&lt;/a&gt;ã€‚&lt;/p&gt;&#xA;&lt;p&gt;é€‰ç”¨çš„æ˜¯Intelæä¾›çš„MPIæœåŠ¡ã€‚&lt;/p&gt;&#xA;&lt;p&gt;1ã€ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;vim ~/.bash_profile&#xA;&#xA;###for Intel 2016 compiler&#xA;export  I_MPI_PMI_LIBRARY=&amp;quot;/usr/lib64/libpmi.so&amp;quot;&#xA;source /home/software/intel/parallel_studio_xe_2016_update2/bin/compilervars.sh intel64&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šåœ¨å•ä¸ªæœåŠ¡å™¨ä¸Šé¢çš„ç¯å¢ƒå˜é‡ä¿®æ”¹ï¼Œè®°å¾—æŒ‰ç…§é»˜è®¤çš„è·¯å¾„æŒ‰ç…§ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;  source /opt/intel/parallel_studio_xe_2016_update2/bin/compilervars.sh intel64&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;2ã€æ£€éªŒæ˜¯å¦æˆåŠŸã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;which mpirun&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å’Œ&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;mpirun --version&#xA;mpiifort --version&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æœ€åæ˜¯è°ƒè¯•æ—¶å€™èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚&lt;a href=&#34;http://hpc.whu.edu.cn/mpiguide/&#34;&gt;MPIä½¿ç”¨æŒ‡å— | æ­¦æ±‰å¤§å­¦è¶…ç®—ä¸­å¿ƒ&lt;/a&gt;æä¾›çš„æ˜¯Cè¯­è¨€ç‰ˆæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨slurmè°ƒåº¦ç³»ç»Ÿè¿›è¡Œæäº¤ã€‚ä»¥åçš„æ–‡ç« ä¼šæ ¹æ®è¿™ä¸Šé¢çš„å†…å®¹æ¥è°ƒè¯•ç›¸å…³çš„å­¦ä¹ å†…å®¹ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ã€Fortranå¹¶è¡Œç§‘å­¦è®¡ç®—ã€‘å‰è¨€</title>
      <link>https://xiaoledeng.github.io/2016/11/19/introduction-fortran-computation/</link>
      <pubDate>Sat, 19 Nov 2016 10:00:00 +0800</pubDate>
      <guid>https://xiaoledeng.github.io/2016/11/19/introduction-fortran-computation/</guid>
      <description>&lt;h1 id=&#34;ä¸€ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨fortranè¯­è¨€&#34;&gt;ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨Fortranè¯­è¨€ï¼Ÿ&lt;/h1&gt;&#xA;&lt;p&gt;1ã€æ­¤æ–¹å‘æœ€æ–°çš„ç ”ç©¶è¿›å±•ï¼Œå…¶æä¾›çš„æºä»£ç æ˜¯Fortranä»£ç ï¼Œå¯ä»¥ç›´æ¥ç«™åœ¨å‰äººçš„åŸºç¡€ä¸Šæ¥ç™»é«˜æœ›è¿œï¼›&lt;/p&gt;&#xA;&lt;p&gt;2ã€ä½¿ç”¨å…¶ä»–é«˜çº§è¯­è¨€(MATLABå’ŒMathematica)çš„è®¡ç®—æ•ˆç‡é‡åˆ°äº†ç“¶é¢ˆï¼Œéœ€è¦ä½¿ç”¨Fortran+MPIçš„å¹¶è¡ŒåŠŸèƒ½æ¥è¿›è¡Œè¶…é‡æ•°æ®è®¡ç®—ï¼›&lt;/p&gt;&#xA;&lt;p&gt;3ã€æ‰‹å¤´æ‰€æœ‰çš„èµ„æºï¼šå¯ä¾›ä½¿ç”¨çš„MPIè¶…ç®—ä¸­å¿ƒã€å·²æœ‰ä¸€ç‚¹ç‚¹FortranåŸºç¡€ã€‚&lt;/p&gt;&#xA;&lt;h1 id=&#34;äºŒä½¿ç”¨fortranè¯­è¨€éœ€è¦æ³¨æ„çš„äº‹é¡¹&#34;&gt;äºŒã€ä½¿ç”¨Fortranè¯­è¨€éœ€è¦æ³¨æ„çš„äº‹é¡¹&lt;/h1&gt;&#xA;&lt;p&gt;1ã€æ˜ç™½Fortranè¯­è¨€åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå…·ä½“çš„é—®é¢˜èšç„¦æ‰æ˜¯ç‹é“ï¼›&lt;/p&gt;&#xA;&lt;p&gt;2ã€å®æ—¶è®°å½•ã€æ•´ç†ã€å…±äº«æ‰€å­¦ä¹ åˆ°çš„Fortran+MPIæ–¹é¢çš„ç¬”è®°ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
